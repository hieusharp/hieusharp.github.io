module.exports=(c,b={})=>{let s=a=>!isNaN(a)&& +a+""==a+"",d=(a=0,b=0)=>({min:a,max:b}),t=a=>{[R,S].forEach(a)},u=(a,b,c)=>{if(a)return b;c()},v=(a,b,c="")=>{a.setAttribute(b,c)},w=(a,b)=>{a.removeAttribute(b)},e=(a,b,c,d=!0)=>{a.addEventListener(b,c,d?{passive:!1,capture:!0}:{})},a=(a,c)=>{b[a]=({}).hasOwnProperty.call(b,a)?b[a]:c},x=(a,c)=>b.orientation===U?a:c,y=a=>1===a?$.max:$.min,f=()=>{let a=!1;s(b.min)&&s(b.max)||(a=!0),b.min=a?1:+b.min,b.max=a?1:+b.max},g=()=>{b.thumbsDisabled instanceof Array?(1===b.thumbsDisabled.length&&b.thumbsDisabled.push(!1),1!==b.thumbsDisabled.length&&2!==b.thumbsDisabled.length&&(b.thumbsDisabled=[!1,!1])):b.thumbsDisabled=[b.thumbsDisabled,b.thumbsDisabled],b.thumbsDisabled[0]=!!b.thumbsDisabled[0],b.thumbsDisabled[1]=!!b.thumbsDisabled[1]},h=(a,c=!1,g=!0)=>{let e=d(ah[$.min].value,ah[$.max].value);a=a||e,ah[$.min].value=a.min,ah[$.max].value=af||c?a.max:a.min+ad,z(),Z.min>Z.max&&($.min=+!$.min,$.max=+!$.max,w(r[$.min],o),w(r[$.max],n),v(r[$.min],n),v(r[$.max],o),af&&(af=af===R?S:R),z()),ac=c?Z:a;let f=!1;(e.min!==ah[$.min].value||c)&&(f=!0),(e.max!==ah[$.max].value||c)&&(f=!0),f&&(g&&b.onInput&&b.onInput([Z.min,Z.max]),E(),A(),B(),C())},z=()=>{t(a=>{Z[a]=+ah[$[a]].value})},A=()=>{t(a=>{r[$[a]].style[x("top","left")]=`calc(${(Z[a]-b.min)/p*100}% + ${(.5-(Z[a]-b.min)/p)*x(aa,_)[a]}px)`})},B=()=>{let a=(.5-(Z.min-b.min)/p)*x(aa,_).min/c[`client${x("Height","Width")}`],d=(.5-(Z.max-b.min)/p)*x(aa,_).max/c[`client${x("Height","Width")}`];q.style[x("top","left")]=`${((Z.min-b.min)/p+a)*100}%`,q.style[x("height","width")]=`${((Z.max-b.min)/p-(Z.min-b.min)/p-a+d)*100}%`},i=()=>{t((a,c)=>{ab[a]=b.thumbsDisabled[c]?Z[a]:b[a]})},j=()=>{t((c,a)=>{b.disabled||b.thumbsDisabled[a]?w(r[y(a)],V):v(r[y(a)],V,0)})},C=()=>{t(a=>{v(r[$[a]],"aria-valuemin",b.min),v(r[$[a]],"aria-valuemax",b.max),v(r[$[a]],"aria-valuenow",Z[a]),v(r[$[a]],"aria-valuetext",Z[a])})},k=()=>{b.disabled?v(c,Y):w(c,Y)},l=()=>{b.thumbsDisabled.forEach((b,c)=>{let a=y(c);b?(v(r[a],Y),v(r[a],"aria-disabled",!0)):(w(r[a],Y),v(r[a],"aria-disabled",!1))})},D=(a,c=!1)=>{b[a]=c,f(),t(a=>{ah[0][a]=b[a],ah[1][a]=b[a]}),p=b.max-b.min,h("",!0),i()},m=()=>{b.orientation===U?v(c,X):w(c,X),q.style[x("left","top")]="",q.style[x("width","height")]="",r[0].style[x("left","top")]="",r[1].style[x("left","top")]=""},E=()=>{t(a=>{_[a]=P(Q(r[$[a]]).width),aa[a]=P(Q(r[$[a]]).height)})},F=(e,d)=>{let a=(d[`offset${x("Top","Left")}`]+(e[`client${x("Y","X")}`]-d.getBoundingClientRect()[x("top","left")])-(af?(.5-(Z[af]-b.min)/p)*x(aa,_)[af]:0))/c[`client${x("Height","Width")}`]*p+b.min;return a<b.min?b.min:a>b.max?b.max:a},G=(a,b)=>!a.target.classList.contains(b),H=c=>{let e=!1;if(!b.disabled&&(G(c,"range-slider__thumb")&&G(c,"range-slider__range")||b.rangeSlideDisabled&&G(c,"range-slider__thumb"))&&(e=!0),e&&b.thumbsDisabled[0]&&b.thumbsDisabled[1]&&(e=!1),e){let a=F(c,q),f=O(Z.min-a),g=O(Z.max-a);if(b.thumbsDisabled[0])a>=Z.min&&(h(d(Z.min,a),!0),J(c,$.max,r[$.max]));else if(b.thumbsDisabled[1])a<=Z.max&&(h(d(a,Z.max),!0),J(c,$.min,r[$.min]));else{let i=$.max;f===g?h(d(Z.min,a),!0):(h(d(f<g?a:Z.min,g<f?a:Z.max),!0),i=f<g?$.min:$.max),J(c,i,r[i])}}},I=(b,a)=>{E(),v(a,W),ag=F(b,a),ae=!0},J=(c,a,d)=>{b.disabled||b.thumbsDisabled[y(a)]||(I(c,d),af=$.min===a?R:S,b.onThumbDragStart&&b.onThumbDragStart())},K=a=>{b.disabled||b.rangeSlideDisabled||(I(a,q),ad=Z.max-Z.min,af=!1,b.onRangeDragStart&&b.onRangeDragStart())},L=k=>{if(ae){let e=F(k,q),j=e-ag,f=Z.min,g=Z.max,a=af?ab.min:b.min,c=af?ab.max:b.max;af&&af!==R||(f=af?e:ac.min+j),af&&af!==S||(g=af?e:ac.max+j),f>=a&&f<=c&&g>=a&&g<=c?(h({min:f,max:g}),ag=e):(f>c&&af&&(h(d(c,c)),ag=e),g<a&&af&&(h(d(a,a)),ag=e),f<a&&(af?h(d(a,Z.max)):h(d(a,Z.max-Z.min+a)),ag=e),g>c&&(af?h(d(Z.min,c)):h(d(Z.min-Z.max+c,c)),ag=e)),af||i()}},M=()=>{let a=P(ah[0].step);return ah[0].step===T?T:0===a||isNaN(a)?1:a},N=(c,f)=>{let g=(37===f||40===f?-1:1)*x(-1,1);if(!b.disabled&&!b.thumbsDisabled[y(c)]){let a=M();a=a===T?1:a;let d=Z.min+a*($.min===c?g:0),e=Z.max+a*($.max===c?g:0);d>ab.max&&(d=ab.max),e<ab.min&&(e=ab.min),h({min:d,max:e},!0)}},O=Math.abs,P=parseFloat,Q=window.getComputedStyle,R="min",S="max",T="any",U="vertical",V="tabindex",n="data-lower",o="data-upper",W="data-active",X="data-vertical",Y="data-disabled",Z=d(),$=d(0,1),_=d(),aa=d(),ab=d(),ac=d(),p=0,ad=0,ae=!1,af=!1,ag=0;a("rangeSlideDisabled",!1),a("thumbsDisabled",[!1,!1]),a("orientation","horizontal"),a("disabled",!1),a("onThumbDragStart",!1),a("onRangeDragStart",!1),a("onThumbDragEnd",!1),a("onRangeDragEnd",!1),a("onInput",!1),a("value",[25,75]),a("step",1),a("min",0),a("max",100),f(),g(),c.innerHTML=`<input type="range" min="${b.min}" max="${b.max}" step="${b.step}" value="${b.value[0]}" disabled><input type="range" min="${b.min}" max="${b.max}" step="${b.step}" value="${b.value[1]}" disabled><div role="slider" class="range-slider__thumb" ${n}></div><div role="slider" class="range-slider__thumb" ${o}></div><div class="range-slider__range"></div>`,c.classList.add("range-slider");let q=c.querySelector(".range-slider__range"),ah=c.querySelectorAll("input"),r=c.querySelectorAll(".range-slider__thumb");return p=b.max-b.min,h("",!0,!1),i(),k(),l(),j(),m(),e(c,"pointerdown",a=>{H(a)}),Array.from(r).forEach((a,b)=>{e(a,"pointerdown",c=>{J(c,b,a)}),e(a,"keydown",a=>{a.which>=37&&a.which<=40&&(a.preventDefault(),N(b,a.which))})}),e(q,"pointerdown",a=>{K(a)}),e(document,"pointermove",a=>{L(a)}),e(document,"pointerup",()=>{ae&&(w(r[0],W),w(r[1],W),w(q,W),ae=!1,af?b.onThumbDragEnd&&b.onThumbDragEnd():b.onRangeDragEnd&&b.onRangeDragEnd())}),e(window,"resize",()=>{E(),A(),B()}),{min:(a=!1)=>u(!a&&0!==a,b.min,()=>{D(R,a)}),max:(a=!1)=>u(!a&&0!==a,b.max,()=>{D(S,a)}),step:(a=!1)=>u(!a,M(),()=>{ah[0].step=a,ah[1].step=a,h("",!0)}),value:(a=!1)=>u(!a,[Z.min,Z.max],()=>{h(d(a[0],a[1]),!0),i()}),orientation:(a=!1)=>u(!a,b.orientation,()=>{b.orientation=a,m(),h("",!0)}),disabled(a=!0){b.disabled=!!a,k()},thumbsDisabled(a=[!0,!0]){b.thumbsDisabled=a,g(),i(),j(),l()},rangeSlideDisabled(a=!0){b.rangeSlideDisabled=!!a},currentValueIndex:()=>af?af===R?0:1:-1}}